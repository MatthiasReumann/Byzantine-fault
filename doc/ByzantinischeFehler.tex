\documentclass{article}
\usepackage[backend=biber]{biblatex}
\usepackage[german]{babel}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{float}
\graphicspath{ {./img/} }

\setlength{\parindent}{0pt}

\bibliography{ByzantinischeFehler}

\title{Byzantinische Fehler}
\author{Matthias Reumann}
\date{\today}

\begin{document}

\maketitle

\newpage

\tableofcontents

\newpage

\section{Byzantinische Fehler}

\subsection{Definition}

Byzantinische Fehler treten in verteilten Systemen auf, 
wenn fehlerhafte Nachrichten von einem Knoten versendet werden, 
die von der Struktur und vom Inhalt nicht von fehlerfreien
unterscheidet werden können. \cite{esraberlin} 

\medskip 

Den Namen hat diese Fehlerklasse im Jahr 1982 von Lamport et. al. im 
Papier \textit{The Byzantine Generals Problem} erhalten.\cite{generals}
In diesem werden Byzantinische Fehler durch das abstrakte Beispiel der Byzantinischen Generäle näher erklärt.

\subsection{Anwendungen}
Da Fehlentscheidungen katastrophale Folgen hätten, wird in Boeing Flugzeugsystemen 
Byzantinischen Fehlern eine hohe Bedeutung zugewiesen.
Das Raumfahrtunternehmen SpaceX beachtet byzantinische Fehler in ihren Dragon Raumschiffen, 
welche Astronauten zur ISS transportieren sollen. 
Um die Integrität der Blockchain zu gewährleisten, ist die Implementierung von Bitcoin 
Byzantinische Fehler Tolerant (BFT).

\section{Problem der byzantinischen Generäle}
\label{sec:generals}
Mehrere Generäle und ihre Truppen umzingeln eine feindliche Stadt. 
Da diese voneinander räumlich getrennt sind können sie nur über Boten miteinander kommunizieren.
Jeder General beobachtet den gemeinsamen Feind und schlussendlich muss
eine gemeinsame Entscheidung getroffen werden um den Feind zu besiegen. 
Jedoch könnten unter den Generälen Verräter sein, deren Ziel es ist eine gemeinsame Entscheidung 
der loyalen Generäle zu verhindern. 

\medskip 

Die Generäle müssen einen Algorithmus finden der garantiert, dass

\begin{enumerate}[label=(\alph*)]
\item Alle loyalen Generäle die gleiche Entscheidung treffen 
\item Eine geringe Anzahl an Verrätern die loyalen Generäle nicht zu einer Fehlentscheidung führt
\end{enumerate}

Eine Entscheidung unter den Generälen wird gefällt indem jeder General seine Informationen an die anderen Generäle weitergibt. 
Die Nachricht gesendet vom $i$.ten General wird als \textit{v(i)} bezeichnet.
Jeder General erhält die Nachrichten \textit{v(1)} bis \textit{v(n)}, wobei $n$ die Anzahl der Generäle darstellt. 

Die finale Entscheidung wird durch die absolute Mehrheit der Werte dieser Nachrichten
bestimmt. In diesem konkreten Beispiel können die Werte entweder \textit{ANGRIFF} oder \textit{RÜCKZUG} sein.

Allerdings könnte es sein, dass ein Verräter unterschiedliche Werte zu unterschiedlichen Generälen sendet, 
was widerum bedeutet, dass loyale Generäle unterschiedliche \textit{v(i)} Werte besitzen. 

\medskip 

Deshalb müssen sogennante \textit{interactive consistency conditions} gelten.
Ein führender General, auch Commander genannt, sendet einen Befehl an seine $n - 1$ Leutnant 
Generäle so, dass:

\smallskip 

\begin{tabular}{l l}
IC1 & Alle loyalen Leutnants den gleichen Befehl ausführen \\
IC2 & Wenn der Commander loyal ist, dann befolgt jeder loyale Leutnant seinen Befehl
\end{tabular}

\subsection{Beispiel mit drei Generälen}
In diesem Abschnitt wird eine Situation beschrieben in der drei Generäle miteinander kommunzieren. 
Wichtig dabei ist, dass niemand der loyalen Generäle weiß wer der Verräter ist. 

\medskip

In Abbildung \ref{fig:general1} ist Leutnant 2 (L2) der Verräter. Der loyale Commander
sendet den Befehl \textit{ANGRIFF} an beide Leutnants L1 und L2. Zur Verifizierung sendet L2 L1 die Nachricht,
er habe den Befehl \textit{RÜCKZUG} erhalten. 
L1 hat nun die Nachrichten \textit{ANGRIFF} und \textit{RÜCKZUG} und 
kann auf Grund dessen keine eindeutige Entscheidung treffen. 

\begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{general1.png}
    \caption{L2 ist der Verräter. L1 muss den Befehl des Commanders auführen um die IC2 einzuhalten.}
    \label{fig:general1}
\end{figure}

Im nächsten Szenario (Abbildung \ref{fig:general2}) ist der Commander der Verräter. Dieser sendet unterschiedliche 
Befehle an L1 und L2. Für L1 ist es die exakt selbe Situation 
wie in Abbildung \ref{fig:general1}. L2 steht vor dem selben Problem. 

\begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{general2.png}
    \caption{Der Commander ist der Verräter. Für L1 ist es die selbe Situtation wie in Abbildung \ref{fig:general1}.}
    \label{fig:general2}
\end{figure}

Wie aus diesem Beispiel hervorgeht, existiert keine Lösung für drei Generäle mit einem Verräter. 
Um einen byzantinischen Fehler zu erkennen muss daher folgende Eigenschaft gelten: $n \geq 3m + 1$, 
wobei $n$ die Anzahl der Generäle und $m$ die Anzahl der Verräter in diesem System ist. Mit anderen Worten, 
mehr als zwei Drittel müssen loyal sein, um einen byzantinischen Fehler zu erkennen. 

\subsection{Mögliche Lösungen}
Eine mögliche Lösung des Problems ist das Hinzufügen eines weiteren Generals. 
Dadurch kann, wenn jeder Leutnant seine erhaltene Nachricht an die anderen Leutnants 
sendet, genau ein byzantinischer Fehler erkannt werden. 

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{omalgo.png}
    \caption{Zeigt, dass durch das Hinzufügen eines vierten Generals ein byzantinischer Fehler erkennt werden kann.}
    \label{fig:omalgo}
\end{figure}

\medskip 

Desweiteren, wäre der Einsatz von signierten Nachrichten eine andere valide Lösung. 
Dadurch könnte im Beispiel der Abbildung \ref{fig:general1} festgestellt werden,
dass L2 die Nachricht verfälscht hätte. 

\newpage

\printbibliography

\end{document}